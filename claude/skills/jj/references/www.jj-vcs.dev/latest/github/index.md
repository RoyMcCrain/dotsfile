---
title: "Working with GitHub - Jujutsu docs"
source_url: "https://www.jj-vcs.dev/latest/github/index"
fetched_at: "2026-02-02T08:21:03.339661+00:00"
---



Jujutsu docs

[jj-vcs/jj](https://github.com/jj-vcs/jj "Go to repository")

* [Home](https://www.jj-vcs.dev/latest/index.html)
* Getting started

  Getting started
  + [Installation and setup](https://www.jj-vcs.dev/latest/install-and-setup/index.html)
  + [Tutorial and bird's eye view](https://www.jj-vcs.dev/latest/tutorial/index.html)
  + [Working with Gerrit](https://www.jj-vcs.dev/latest/gerrit/index.html)
  + Working with GitHub

    [Working with GitHub](https://www.jj-vcs.dev/latest/github/index.html)

    Table of contents
    - [Basic workflow](https://www.jj-vcs.dev/latest/github/index.html#basic-workflow)

      * [Using a generated bookmark name](https://www.jj-vcs.dev/latest/github/index.html#using-a-generated-bookmark-name)
      * [Using a named bookmark](https://www.jj-vcs.dev/latest/github/index.html#using-a-named-bookmark)
    - [Updating the repository](https://www.jj-vcs.dev/latest/github/index.html#updating-the-repository)
    - [Working in a Git colocated workspaces](https://www.jj-vcs.dev/latest/github/index.html#working-in-a-git-colocated-workspaces)
    - [Working in a Jujutsu repository](https://www.jj-vcs.dev/latest/github/index.html#working-in-a-jujutsu-repository)
    - [Addressing review comments](https://www.jj-vcs.dev/latest/github/index.html#addressing-review-comments)

      * [Adding new commits](https://www.jj-vcs.dev/latest/github/index.html#adding-new-commits)
      * [Rewriting commits](https://www.jj-vcs.dev/latest/github/index.html#rewriting-commits)
    - [Working with other people's bookmarks](https://www.jj-vcs.dev/latest/github/index.html#working-with-other-peoples-bookmarks)
    - [Using GitHub CLI](https://www.jj-vcs.dev/latest/github/index.html#using-github-cli)
    - [Useful Revsets](https://www.jj-vcs.dev/latest/github/index.html#useful-revsets)
    - [Merge conflicts](https://www.jj-vcs.dev/latest/github/index.html#merge-conflicts)
    - [Using several remotes](https://www.jj-vcs.dev/latest/github/index.html#using-several-remotes)
  + [Working on Windows](https://www.jj-vcs.dev/latest/windows/index.html)
* [FAQ](https://www.jj-vcs.dev/latest/FAQ/index.html)
* [CLI reference](https://www.jj-vcs.dev/latest/cli-reference/index.html)
* [Testimonials](https://www.jj-vcs.dev/latest/testimonials/index.html)
* [Community-built tools](https://www.jj-vcs.dev/latest/community_tools/index.html)
* Concepts

  Concepts
  + [Working copy](https://www.jj-vcs.dev/latest/working-copy/index.html)
  + [Bookmarks](https://www.jj-vcs.dev/latest/bookmarks/index.html)
  + [Conflicts](https://www.jj-vcs.dev/latest/conflicts/index.html)
  + [Operation log](https://www.jj-vcs.dev/latest/operation-log/index.html)
  + [Glossary](https://www.jj-vcs.dev/latest/glossary/index.html)
* Guides

  Guides
  + [CLI options for specifying revisions](https://www.jj-vcs.dev/latest/guides/cli-revision-options/index.html)
  + [Divergent changes](https://www.jj-vcs.dev/latest/guides/divergence/index.html)
  + [Multiple remotes](https://www.jj-vcs.dev/latest/guides/multiple-remotes/index.html)
* Reference

  Reference
  + [Settings](https://www.jj-vcs.dev/latest/config/index.html)
  + [Fileset language](https://www.jj-vcs.dev/latest/filesets/index.html)
  + [Revset language](https://www.jj-vcs.dev/latest/revsets/index.html)
  + [Templating language](https://www.jj-vcs.dev/latest/templates/index.html)
* Comparisons

  Comparisons
  + [Git comparison](https://www.jj-vcs.dev/latest/git-comparison/index.html)
  + [Git command table](https://www.jj-vcs.dev/latest/git-command-table/index.html)
  + [Git compatibility](https://www.jj-vcs.dev/latest/git-compatibility/index.html)
  + [Jujutsu for Git experts](https://www.jj-vcs.dev/latest/git-experts/index.html)
  + [Sapling comparison](https://www.jj-vcs.dev/latest/sapling-comparison/index.html)
  + [Other related work](https://www.jj-vcs.dev/latest/related-work/index.html)
* Technical details

  Technical details
  + [Core tenets](https://www.jj-vcs.dev/latest/core_tenets/index.html)
  + [Architecture](https://www.jj-vcs.dev/latest/technical/architecture/index.html)
  + [Concurrency](https://www.jj-vcs.dev/latest/technical/concurrency/index.html)
  + [Conflicts](https://www.jj-vcs.dev/latest/technical/conflicts/index.html)
* Contributing

  Contributing
  + [Guidelines and "How to...?"](https://www.jj-vcs.dev/latest/contributing/index.html)
  + [Code of conduct](https://www.jj-vcs.dev/latest/code-of-conduct/index.html)
  + [Style guide](https://www.jj-vcs.dev/latest/style_guide/index.html)
  + [Design docs](https://www.jj-vcs.dev/latest/design_docs/index.html)
  + [Design doc blueprint](https://www.jj-vcs.dev/latest/design_doc_blueprint/index.html)
  + [Releasing](https://www.jj-vcs.dev/latest/releasing/index.html)
  + [Temporary voting for governance](https://www.jj-vcs.dev/latest/governance/temporary-voting/index.html)
  + [Governance](https://www.jj-vcs.dev/latest/governance/GOVERNANCE/index.html)
* Design docs

  Design docs
  + [git-submodules](https://www.jj-vcs.dev/latest/design/git-submodules/index.html)
  + [git-submodule-storage](https://www.jj-vcs.dev/latest/design/git-submodule-storage/index.html)
  + [JJ run](https://www.jj-vcs.dev/latest/design/run/index.html)
  + [Sparse patterns v2](https://www.jj-vcs.dev/latest/design/sparse-v2/index.html)
  + [Tracking branches](https://www.jj-vcs.dev/latest/design/tracking-branches/index.html)
  + [Copy tracking and tracing](https://www.jj-vcs.dev/latest/design/copy-tracking/index.html)
  + [Secure config](https://www.jj-vcs.dev/latest/design/secure-config/index.html)
* [Development roadmap](https://www.jj-vcs.dev/latest/roadmap/index.html)
* [Changelog](https://www.jj-vcs.dev/latest/changelog/index.html)

Table of contents

* [Basic workflow](https://www.jj-vcs.dev/latest/github/index.html#basic-workflow)

  + [Using a generated bookmark name](https://www.jj-vcs.dev/latest/github/index.html#using-a-generated-bookmark-name)
  + [Using a named bookmark](https://www.jj-vcs.dev/latest/github/index.html#using-a-named-bookmark)
* [Updating the repository](https://www.jj-vcs.dev/latest/github/index.html#updating-the-repository)
* [Working in a Git colocated workspaces](https://www.jj-vcs.dev/latest/github/index.html#working-in-a-git-colocated-workspaces)
* [Working in a Jujutsu repository](https://www.jj-vcs.dev/latest/github/index.html#working-in-a-jujutsu-repository)
* [Addressing review comments](https://www.jj-vcs.dev/latest/github/index.html#addressing-review-comments)

  + [Adding new commits](https://www.jj-vcs.dev/latest/github/index.html#adding-new-commits)
  + [Rewriting commits](https://www.jj-vcs.dev/latest/github/index.html#rewriting-commits)
* [Working with other people's bookmarks](https://www.jj-vcs.dev/latest/github/index.html#working-with-other-peoples-bookmarks)
* [Using GitHub CLI](https://www.jj-vcs.dev/latest/github/index.html#using-github-cli)
* [Useful Revsets](https://www.jj-vcs.dev/latest/github/index.html#useful-revsets)
* [Merge conflicts](https://www.jj-vcs.dev/latest/github/index.html#merge-conflicts)
* [Using several remotes](https://www.jj-vcs.dev/latest/github/index.html#using-several-remotes)

# Using Jujutsu with GitHub and GitLab Projects[¶](https://www.jj-vcs.dev/latest/github/index.html#using-jujutsu-with-github-and-gitlab-projects "Permanent link")

This guide assumes a basic understanding of either Git or Mercurial.

## Basic workflow[¶](https://www.jj-vcs.dev/latest/github/index.html#basic-workflow "Permanent link")

The simplest way to start with Jujutsu is to create a stack of commits first.
You will only need to create a bookmark when you need to push the stack to a
remote. There are two primary workflows: using a generated bookmark name or
naming a bookmark.

### Using a generated bookmark name[¶](https://www.jj-vcs.dev/latest/github/index.html#using-a-generated-bookmark-name "Permanent link")

In this example we're letting Jujutsu auto-create a bookmark.

```
# Start a new commit off of the default bookmark.
$ jj new main
# Refactor some files, then add a description and start a new commit
$ jj commit -m 'refactor(foo): restructure foo()'
# Add a feature, then add a description and start a new commit
$ jj commit -m 'feat(bar): add support for bar'
# Let Jujutsu generate a bookmark name and push that to GitHub. Note that we
# push the working-copy commit's *parent* because the working-copy commit
# itself is empty.
$ jj git push -c @-
```

### Using a named bookmark[¶](https://www.jj-vcs.dev/latest/github/index.html#using-a-named-bookmark "Permanent link")

In this example, we create a bookmark named `bar` and then push it to the remote.

```
# Start a new commit off of the default bookmark.
$ jj new main
# Refactor some files, then add a description and start a new commit
$ jj commit -m 'refactor(foo): restructure foo()'
# Add a feature, then add a description and start a new commit
$ jj commit -m 'feat(bar): add support for bar'
# Create a bookmark so we can push it to GitHub. Note that we created the bookmark
# on the working-copy commit's *parent* because the working copy itself is empty.
$ jj bookmark create bar -r @- # `bar` now contains the previous two commits.
# Set the bookmark to be tracked on the remote.
$ jj bookmark track bar
# Push the bookmark to GitHub (pushes only `bar`)
$ jj git push
```

While it's possible to create a bookmark in advance and commit on top of it in a
Git-like manner, you will then need to move the bookmark manually when you create
a new commits. Unlike Git, Jujutsu will not do it automatically.

## Updating the repository[¶](https://www.jj-vcs.dev/latest/github/index.html#updating-the-repository "Permanent link")

As of October 2023, Jujutsu has no equivalent to a `git pull` command (see
[issue #1039](https://github.com/jj-vcs/jj/issues/1039)). Until such a command is added, you need to use
`jj git fetch` followed by a `jj rebase -o $main_bookmark` to update your
changes.

## Working in a Git colocated workspaces[¶](https://www.jj-vcs.dev/latest/github/index.html#working-in-a-git-colocated-workspaces "Permanent link")

After doing `jj git init`, which
[colocates](https://www.jj-vcs.dev/latest/git-compatibility/index.html#colocated-jujutsugit-repos) the `.jj` and
`.git` directories, Git will be in a [detached HEAD state](https://git-scm.com/docs/git-checkout#_detached_head), which is
unusual, as Git mainly works with named branches; jj does not.

In a colocated workspace, every `jj` command will automatically synchronize
Jujutsu's view of the repo with Git's view. For example, `jj commit` updates the
HEAD of the Git repository, enabling an incremental migration.

```
$ nvim docs/tutorial.md
$ # Do some more work.
$ jj commit -m "Update tutorial"
# Create a bookmark on the working-copy commit's parent
$ jj bookmark create doc-update -r @-
$ jj bookmark track doc-update
$ jj git push
```

## Working in a Jujutsu repository[¶](https://www.jj-vcs.dev/latest/github/index.html#working-in-a-jujutsu-repository "Permanent link")

In a Jujutsu repository, the workflow is simplified. If there's no need for
explicitly named bookmarks, you can just generate one for a change. As Jujutsu is
able to create a bookmark for a revision.

```
$ # Do your work
$ jj commit
$ # Push change "mw", letting Jujutsu automatically create a bookmark called
$ # "push-mwmpwkwknuz"
$ jj git push --change mw
```

## Addressing review comments[¶](https://www.jj-vcs.dev/latest/github/index.html#addressing-review-comments "Permanent link")

There are two workflows for addressing review comments, depending on your
project's preference. Many projects prefer that you address comments by adding
commits to your bookmark[1](https://www.jj-vcs.dev/latest/github/index.html#fn:1). Some projects (such as Jujutsu and LLVM) instead
prefer that you keep your commits clean by rewriting them and then
force-pushing[2](https://www.jj-vcs.dev/latest/github/index.html#fn:2).

### Adding new commits[¶](https://www.jj-vcs.dev/latest/github/index.html#adding-new-commits "Permanent link")

If your project prefers that you address review comments by adding commits on
top, you can do that by doing something like this:

```
$ # Create a new commit on top of the `your-feature` bookmark from above.
$ jj new your-feature
$ # Address the comments by updating the code. Then review the changes.
$ jj diff
$ # Give the fix a description and create a new working-copy on top.
$ jj commit -m 'address pr comments'
$ # Update the bookmark to point to the new commit.
$ jj bookmark move your-feature --to @-
$ # Push it to your remote
$ jj git push
```

Notably, the above workflow creates a new commit for you. The same can be
achieved without creating a new commit.

Warning

We strongly suggest to `jj new` after the example below, as all further edits
still get amended to the previous commit.

```
$ # Create a new commit on top of the `your-feature` bookmark from above.
$ jj new your-feature
$ # Address the comments by updating the code. Then review the changes.
$ jj diff
$ # Give the fix a description.
$ jj describe -m 'address pr comments'
$ # Update the bookmark to point to the current commit.
$ jj bookmark move your-feature --to @
$ # Push it to your remote
$ jj git push
```

### Rewriting commits[¶](https://www.jj-vcs.dev/latest/github/index.html#rewriting-commits "Permanent link")

If your project prefers that you keep commits clean, you can do that by doing
something like this:

```
$ # Create a new commit on top of the second-to-last commit in `your-feature`,
$ # as reviewers requested a fix there.
$ jj new your-feature- # NOTE: the trailing hyphen is not a typo!
$ # Address the comments by updating the code. Then review the changes.
$ jj diff
$ # Squash the changes into the parent commit
$ jj squash
$ # Push the updated bookmark to the remote. Jujutsu automatically makes it a
$ # force push
$ jj git push --bookmark your-feature
```

The hyphen after `your-feature` comes from the [revset](https://www.jj-vcs.dev/latest/revsets/index.html) syntax.

## Working with other people's bookmarks[¶](https://www.jj-vcs.dev/latest/github/index.html#working-with-other-peoples-bookmarks "Permanent link")

By default, `jj git clone` imports the default remote bookmark (which is usually
`main` or `master`), but `jj git fetch` doesn't import new remote bookmarks to
local bookmarks. This means that if you want to iterate or test another
contributor's bookmark, you'll need to do `jj new <bookmark>@<remote>` onto it.

If you want to import all remote bookmarks including inactive ones, set
`remotes.<name>.auto-track-bookmarks = "*"` in the config file. Then you can
specify a contributor's bookmark as `jj new <bookmark>` instead of `jj new
<bookmark>@<remote>`.

You can find more information on that setting [here](https://www.jj-vcs.dev/latest/config/index.html#automatic-tracking-of-bookmarks).

## Using GitHub CLI[¶](https://www.jj-vcs.dev/latest/github/index.html#using-github-cli "Permanent link")

GitHub CLI will have trouble finding the proper Git repository path in jj repos
that aren't [colocated](https://www.jj-vcs.dev/latest/git-compatibility/index.html#colocated-jujutsugit-repos)
(see [issue #1008](https://github.com/jj-vcs/jj/issues/1008)). You can configure the `$GIT_DIR` environment variable to
point it to the right path:

```
$ GIT_DIR=.jj/repo/store/git gh issue list
```

You can make that automatic by installing [direnv](https://direnv.net) and
defining hooks in a `.envrc` file in the repository root to configure `$GIT_DIR`.
Just add this line into `.envrc`:

```
export GIT_DIR=$PWD/.jj/repo/store/git
```

and run `direnv allow` to approve it for direnv to run. Then GitHub CLI will
work automatically even in workspaces that aren't colocated so you can execute
commands like `gh issue list` normally.

## Useful Revsets[¶](https://www.jj-vcs.dev/latest/github/index.html#useful-revsets "Permanent link")

Log all revisions across all local bookmarks that aren't on the main bookmark nor
on any remote:

```
$ jj log -r 'bookmarks() & ~(main | remote_bookmarks())'
```

Log all revisions that you authored, across all bookmarks that aren't on any
remote:

```
$ jj log -r 'mine() & bookmarks() & ~remote_bookmarks()'
```

Log all remote bookmarks that you authored or committed to:

```
$ jj log -r 'remote_bookmarks() & (mine() | committer(your@email.com))'
```

Log all ancestors of the current working copy that aren't on any remote:

```
$ jj log -r 'remote_bookmarks()..@'
```

## Merge conflicts[¶](https://www.jj-vcs.dev/latest/github/index.html#merge-conflicts "Permanent link")

For a detailed overview, how Jujutsu handles conflicts, revisit
the [tutorial](https://www.jj-vcs.dev/latest/tutorial/index.html#conflicts).

## Using several remotes[¶](https://www.jj-vcs.dev/latest/github/index.html#using-several-remotes "Permanent link")

It is common to use several remotes when contributing to a shared repository.
For example, "upstream" can designate the remote where the changes will be
merged through a pull-request while "origin" is your private fork of the
project.

```
$ jj git clone --remote upstream https://github.com/upstream-org/repo
$ cd repo
$ jj git remote add origin git@github.com:your-org/your-repo-fork
```

This will automatically setup your repository to track the main
bookmark from the upstream repository, typically `main@upstream`
or `master@upstream`.

You might want to `jj git fetch` from "upstream" and to `jj git push`
to "origin". You can configure the default remotes to fetch from and
push to in your configuration file (for example,
`.jj/repo/config.toml`):

```
[git]
fetch = "upstream"
push = "origin"
```

The default for both `git.fetch` and `git.push` is "origin".

If you usually work on a project from several computers, you may
configure `jj` to fetch from both repositories by default, in order to
keep your own bookmarks synchronized through your `origin` repository:

```
[git]
fetch = ["upstream", "origin"]
push = "origin"
```

---

1. This is a GitHub-style review, as GitHub currently only is able to compare
   bookmarks. [↩](https://www.jj-vcs.dev/latest/github/index.html#fnref:1 "Jump back to footnote 1 in the text")
2. If you're wondering why we prefer clean commits in this project, see
   e.g. [this blog post](https://jg.gg/2018/09/29/stacked-diffs-versus-pull-requests/) [↩](https://www.jj-vcs.dev/latest/github/index.html#fnref:2 "Jump back to footnote 2 in the text")
