#----------------------------------------------------------------------------------#
# 非同期検証ツール
#----------------------------------------------------------------------------------#
[[plugins]]
repo = 'Shougo/ddc.vim'
on_event = 'InsertEnter'
hook_source = 'source ~/.config/nvim/plugins/ddc.vim'
depends = ['denops.vim']

[[plugins]]
repo = 'Shougo/ddc-matcher_head'
on_source = 'ddc.vim'

[[plugins]]
repo = 'matsui54/ddc-matcher_fuzzy'
on_source = 'ddc.vim'

[[plugins]]
repo = 'Shougo/ddc-sorter_rank'
on_source = 'ddc.vim'

[[plugins]]
repo = 'shun/ddc-vim-lsp'
on_source = 'ddc.vim'

[[plugins]]
repo = 'matsui54/ddc-buffer'
on_source = 'ddc.vim'

[[plugins]]
repo = 'Shougo/ddc-converter_remove_overlap'
on_source = 'ddc.vim'

[[plugins]]
repo = 'LumaKernel/ddc-tabnine'
on_source = 'ddc.vim'


#----------------------------------------------------------------#
# Syntax Highlight
#----------------------------------------------------------------#
[[plugins]]
repo = 'nvim-treesitter/nvim-treesitter'
merged = 0
on_event = 'BufRead'
hook_post_update = 'TSUpdate'
hook_source = '''
lua << EOF
  require'nvim-treesitter.configs'.setup {
    ensure_installed = { "bash", "c", "c_sharp", "clojure", "cpp", "css", "dockerfile", "elixir",
      "erlang", "go", "gomod", "graphql", "haskell", "html", "http", "java", "javascript",
      "jsdoc", "json", "lua", "make", "markdown", "markdown_inline", "python", "ruby",
      "rust", "scala", "scss", "svelte", "sql", "toml", "tsx", "typescript", "vim", 
      "vue", "yaml", "zig",
    },
    highlight = {
      enable = true,
    }
  }
EOF
'''

[[plugins]]
# css in js
repo = 'styled-components/vim-styled-components'
# https://github.com/styled-components/vim-styled-components/pull/80
# このmainにマージするやる気がないらしい...
rev = 'develop'
on_ft = ['typescript', 'typescriptreact', 'javascript', 'javascriptreact']

[[plugins]]
# haskell
repo = 'neovimhaskell/haskell-vim'
on_ft = ['haskell']

#----------------------------------------------------------------#
# Config for each Lang
#----------------------------------------------------------------#

[[plugins]]
repo = 'prettier/vim-prettier'
build = 'yarn install'
on_ft = ['typescript', 'typescriptreact', 'javascript', 'javascriptreact', 'css', 'less', 'scss', 'json', 'graphql', 'markdown', 'vue', 'yaml', 'html']
hook_source = '''
  let g:prettier#autoformat = 0
  autocmd BufWritePre *.js,*.jsx,*.mjs,*.ts,*.tsx,*.css,*.less,*.scss,*.json,*.graphql,*.md,*.vue,*.yaml,*.html PrettierAsync
'''

[[plugins]]
repo = 'mattn/vim-goimports'
on_ft = ['go']

#----------------------------------------------------------------#
# for Haskell
#----------------------------------------------------------------#
[[plugins]]
# haskell indent
repo = 'nbouscal/vim-stylish-haskell'
on_ft = ['haskell']
